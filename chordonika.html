<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Chordonika Module Development Demo</title>

    <!-- Tonika Design System -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/aa-parky/tonika@main/css/tonika-core.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/aa-parky/tonika@main/css/tonika-components.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/aa-parky/tonika@main/css/layout.css" />

    <!-- Your Module CSS -->
    <link rel="stylesheet" href="css/chordonika.css" />

    <style>
        /* Demo-specific styles using only available Tonika variables */
        .demo-note {
            background: var(--color-bg-secondary);
            border: 1px solid var(--color-border);
            border-radius: 8px;
            padding: 12px;
            margin: 16px 0;
            color: var(--color-text-muted);
            font-size: var(--font-size-sm);
        }

        .component-grid {
            display: grid;
            gap: 16px;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        }

        .button-group {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .layout-grid {
            display: grid;
            gap: 16px;
            grid-template-columns: 1fr 1fr;
        }

        .piano-placeholder {
            background: var(--color-bg-secondary);
            padding: 16px;
            border-radius: 8px;
            text-align: center;
        }
    </style>
</head>

<body class="tonika-theme-dark">
<header>
    <h1>Chordonika Module Development Demo</h1>
</header>

<main class="tonika-container">
    <div class="demo-note">
        <strong>Development Note:</strong> This demo loads the Tonika design
        system directly from GitHub, ensuring you're always testing against the
        latest version. Your module's CSS should only contain layout and
        structural styles unique to your module.
    </div>

    <!-- Tabs -->
    <div class="tabs">
        <button class="active" onclick="openTab(0)">Chordonika</button>
        <button onclick="openTab(1)">Light Theme Test</button>
        <button onclick="openTab(2)">Component Gallery</button>
        <button onclick="openTab(3)">Layout Test</button>
        <button onclick="openTab(4)">Documentation</button>
    </div>

    <div class="tab-content">
        <!-- Tab 1: Your Module -->
        <section class="active">
            <div id="chord-selector"></div>
        </section>

        <!-- Tab 2: Light Theme Test -->
        <section>
            <div class="demo-note">
                <p>
                    Use the toggle button below to switch between dark and light themes,
                    then switch back to the <strong>Chordonika tab</strong> to see how
                    your module looks in the new theme.
                </p>
                <button class="tonika-btn" onclick="toggleTheme()">
                    Toggle Theme
                </button>
                <p style="margin-top: 12px; font-size: var(--font-size-sm); color: var(--color-text-muted);">
                    <strong>Current theme:</strong> <span id="current-theme">Dark</span>
                </p>
            </div>
        </section>

        <!-- Tab 3: Component Gallery -->
        <section>
            <h3>Tonika Component Gallery</h3>
            <div class="component-grid">
                <div class="tonika-module">
                    <h4>Buttons</h4>
                    <div class="button-group">
                        <button class="tonika-btn">Default</button>
                        <button class="tonika-btn tonika-btn--primary">Primary</button>
                        <button class="tonika-btn tonika-btn--danger">Danger</button>
                    </div>
                </div>

                <div class="tonika-module">
                    <h4>Inputs</h4>
                    <div class="input-group">
                        <label>
                            <input class="tonika-input" type="text" placeholder="Text input" />
                        </label>
                        <label>
                            <input class="tonika-input" type="number" placeholder="120" style="width: 80px" />
                        </label>
                        <label>
                            <select class="tonika-select">
                                <option>Select option...</option>
                                <option>Option 1</option>
                                <option>Option 2</option>
                            </select>
                        </label>
                    </div>
                </div>

                <div class="tonika-module">
                    <h4>Typography</h4>
                    <p>Normal text</p>
                    <p style="color: var(--color-text-muted)">Muted text</p>
                    <small>Small text</small>
                </div>
            </div>
        </section>

        <!-- Tab 4: Layout Test -->
        <section>
            <h3>Layout Test</h3>
            <div class="layout-grid">
                <div class="tonika-module">
                    <h4>Card 1</h4>
                    <p>This demonstrates the standard module card layout.</p>
                    <button class="tonika-btn tonika-btn--primary">Action</button>
                </div>
                <div class="tonika-module">
                    <h4>Card 2</h4>
                    <p>Cards automatically adapt to the current theme.</p>
                    <button class="tonika-btn">Another Action</button>
                </div>
            </div>
        </section>

        <!-- Tab 5: Documentation -->
        <section>
            <div class="tonika-module">
                <h3>Chordonika Module Development Guidelines</h3>
                <h4>CSS Structure</h4>
                <ul>
                    <li>
                        <strong>Use BEM naming:</strong> <code>.chordonika</code>,
                        <code>.chordonika__element</code>,
                        <code>.chordonika--modifier</code>
                    </li>
                    <li>
                        <strong>Root container:</strong> Always use
                        <code>class="tonika-module chordonika chordonika--card"</code>
                    </li>
                    <li>
                        <strong>Use global components:</strong>
                        <code>.tonika-btn</code>, <code>.tonika-input</code>,
                        <code>.tonika-select</code>
                    </li>
                    <li>
                        <strong>Use CSS variables:</strong>
                        <code>var(--color-bg-primary)</code>,
                        <code>var(--spacing-md)</code>, etc.
                    </li>
                </ul>

                <h4>JavaScript Integration</h4>
                <ul>
                    <li>
                        Mount your module with:
                        <code>new Chordonika({ mount: "#element-id" })</code>
                    </li>
                    <li>Generate HTML with proper BEM classes</li>
                    <li>Use global CSS classes for common elements</li>
                </ul>

                <h4>Testing</h4>
                <ul>
                    <li>Test in both light and dark themes</li>
                    <li>Ensure responsive behavior</li>
                    <li>Verify accessibility with screen readers</li>
                </ul>
            </div>
        </section>
    </div>

    <!-- Piano Roll Placeholder -->
    <div class="roll88">
        <div class="piano-placeholder">
            <span style="color: var(--color-text-muted)">Piano Roll / Keyboard Component Area</span>
        </div>
    </div>
</main>

<footer>
    <p>Â© 2025 Chordonika Module Development Demo</p>
</footer>

<script>
    function openTab(index) {
        const tabs = document.querySelectorAll(".tabs button");
        const sections = document.querySelectorAll(".tab-content section");

        tabs.forEach((tab, i) => {
            tab.classList.toggle("active", i === index);
            sections[i].classList.toggle("active", i === index);
        });
    }

    function toggleTheme() {
        const body = document.body;
        const themeIndicator = document.getElementById('current-theme');

        if (body.classList.contains("tonika-theme-dark")) {
            body.classList.remove("tonika-theme-dark");
            body.classList.add("tonika-theme-light");
            themeIndicator.textContent = "Light";
        } else {
            body.classList.remove("tonika-theme-light");
            body.classList.add("tonika-theme-dark");
            themeIndicator.textContent = "Dark";
        }
    }
</script>

<!-- Load your module -->
<script src="js/chordonika.js"></script>

<script>
    // Initialize Chordonika in the first tab only
    new Chordonika({
        mount: "#chord-selector",
        mode: "card",
        onChordSelected: (chord) => {
            console.log('Selected chord:', chord);
        }
    });
</script>
</body>
</html>